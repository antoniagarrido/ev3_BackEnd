{% extends 'base.html' %}

{% block content %}
<div class="card">
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
    <h1>Lista de Veterinarios</h1>
    {% if user.is_staff %}
    <a href="{% url 'veterinario_create' %}" class="btn btn-primary">Registrar Veterinario</a>
    {% endif %}
  </div>

  <form method="get" class="search-form">
    <input type="text" name="q" value="{{ q|default:'' }}" placeholder="Buscar por nombre o especialidad...">
    <button type="submit" class="btn">Buscar</button>
  </form>

  <table>
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Especialidad</th>
        <th>Tel√©fono</th>
        {% if user.is_staff %}
        <th>Acciones</th>
        {% endif %}
      </tr>
    </thead>
    <tbody>
      {% for vet in page_obj %}
      <tr>
        <td>{{ vet.nombre }}</td>
        <td>{{ vet.especialidad }}</td>
        <td>{{ vet.telefono }}</td>
        {% if user.is_staff %}
        <td>
          <a href="{% url 'veterinario_edit' vet.pk %}" class="btn">Editar</a>
          <a href="{% url 'veterinario_delete' vet.pk %}" class="btn">Eliminar</a>
        </td>
        {% endif %}
      </tr>
      {% empty %}
      <tr>
        <td colspan="4">No hay veterinarios registrados.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  {% include 'paginator.html' %}
</div>
{% endblock %}